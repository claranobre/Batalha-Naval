package batalhanaval;

import java.awt.Point;

import com.sun.org.apache.regexp.internal.recompile;

/**
 * Classe abstrata bï¿½sica de um navio.
 * 
 * @author 
 *
 */
public abstract class Navio {
	// Constantes para os identificadores dos navios.
//	public static final int BARCO_PATRULA = 10;
//	public static final int SUBMARINO = 11;
//	public static final int DESTROIER = 12;
//	public static final int ENCOURACADO = 13;
//	public static final int PORTA_AVIOES = 14;
	
	private int tamanho;
	private int id;
	private boolean destruido;
	
	private Jogador jogador;
	private Point[] posicao;
	
	public Navio(int tamanho, int identificador, Jogador jogador) {
		this.tamanho = tamanho;
		this.id = identificador;
		this.destruido = false;
		
		this.jogador = jogador;
		this.posicao = new Point[tamanho];
	}

	public int getTamanho () {
		return tamanho;
	}

	public int getId() {
		return id;
	}

	public Jogador getJogador() {
		return jogador;
	}

	public Point[] getPosicao() {
		return posicao;
	}
	
	public void setPosicao(Point[] pos) {
		posicao = pos;
		for (int i = 0; i < pos.length; i++) {
			jogador.getTabuleiro().setXY(pos[i].x, pos[i].y, id);
		}
	}
	
	public boolean estaDestruido () {
		Point[] pos = jogo.getOponente(this).getNavio(valorAtual).getPosicao();
		for (int i = 0; i < pos.length; i++)
			if (jogador.getTabuleiro().getXY(pos[i].x, pos[i].y) > 0)
				return true;
		return false;
	}
}
